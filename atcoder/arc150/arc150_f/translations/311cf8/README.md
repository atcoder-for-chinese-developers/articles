---
title: "ARC150_F_translation.md"
tags: []
author: ""
created: ""
---

## 题意 

有一个长度为 $N^2$ 的序列 $A=(A_1,A_2,...A_{N^2})$，以及一个正整数 $S$。

对于所有 $1\le i\le N^2-N$，都满足 $A_i=A_{i+N}$，读入给出 $A_1,A_2,...,A_N$。

找到一个最小的 $L$，满足对于所有元素和为 $S$ 的正整数序列 $B$，都满足 $B$ 是 $(A_1,A_2,...,A_L)$ 的子序列。

 在题目的制约下，至少有一个 $L$ 满足条件。

## 数据范围

- $1\le N\le 1.5\times 10^6$
- $1\le S\le \min(N,2\times 10^5)$
- $1\le A_i\le S$
- 对于每个正整数 $1\le x\le S$，$(A_1,A_2,...,A_N)$ 中都至少出现了一次 $x$。

## 输入格式

第一行两个数 $N,S$。

第二行 $N$ 个数，第 $i$ 个表示 $A_i$。

## 输出格式

一行一个数，表示答案。

## 样例

### 样例输入1

```
6 4
1 1 2 1 4 3
```

### 样例输出1

```
9
```

### 样例解释1

可能的 $B$ 有 $B=(1, 1, 1, 1), (1, 1, 2), (1, 2, 1), (1, 3), (2, 1, 1), (2, 2), (3, 1), (4)$。

对于 $L=8$，$B=(2,2)$ 不是 $(A_1,A_2,...,A_8)=(1, 1, 2, 1, 4, 3, 1, 1)$ 的子序列。

对于 $L=9$，所有 $B$ 都是 $(A_1,A_2,...,A_9)=(1, 1, 2, 1, 4, 3, 1, 1, 2)$ 的子序列。

### 样例输入2

```
14 5
1 1 1 2 3 1 2 4 5 1 1 2 3 1
```

### 样例输出2

```
11
```

### 样例输入3

```
19 10
1 6 2 7 4 8 5 9 1 10 4 1 3 1 3 2 2 2 1
```

### 样例输出3

```
39
```

