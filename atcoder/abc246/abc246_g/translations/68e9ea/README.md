---
title: "ABC246_G_translation.md"
tags: []
author: ""
created: ""
---

### 题意 

给出一棵有 $N$ 个顶点的有根树，该树以 $1$ 为根。对于每个 $i=1,2,...,N-1$，  第 $i$ 条边连接顶点 $u_i$ 和顶点 $v_i$。除根外每个顶点都写有一个正整数  $A_i$。高桥和青木将使用一个棋子在这棵树上展开一场比赛。

棋子以根为起点。他们二人轮流按照下列规则进行操作直到游戏结束为止。

1. 首先，青木选择一个不为根的点将写在其顶点上的数变为 $0$。
2. 其次，高桥可以移动该棋子至其子节点。
3. 最后，若该棋子处于叶子节点上或高桥主动提出不想玩了（无特殊限制），则游戏结束。

游戏结束后，高桥的得分是棋子所在顶点上的数。高桥想要使他的得分最大，而青木想让高桥的得分尽量少。

请你输出当他们二人均采用最优策略时高桥所能得到的分数。

### 数据范围

- $2\leq N\leq	2\times10^5$
- $1\leq A_i\leq10^9$
- $1\leq u_i,v_i\leq N$
- 所给出的图是一棵树。
- 所有读入的数值都是整数。

---

### 输入格式

输入是由标准输入提供的，格式如下：

```markdown
N
A2 ... AN
u1 v1
u2 v2
.
.
.
uN-1 vN-1
```



### 输出格式

直接输出答案

---

### 样例输入1

```
7
2 4 6 5 6 10
1 2
1 3
2 4
2 5
5 6
5 7
```



### 样例输出1

```
5
```



### 样例解释1

对于第一个样例，可能有以下游戏过程

1. 棋子从顶点 $1$ 开始移动。
2. 青木将顶点 $7$ 上的数从 $10$ 变为 $0$。
3. 高桥将棋子从顶点 $1$ 移到顶点 $2$。
4. 青木将顶点 $4$ 上的数从 $6$ 变为 $0$。
5. 高桥将棋子从顶点 $2$ 移到顶点 $5$。
6. 高桥选择结束游戏。

游戏结束后，棋子位于顶点 $5$，因为此时顶点 $5$ 上的数是 $5$，所以高桥得到 $5$ 分。

---

### 样例输入2

```
30
29 27 79 27 30 4 93 89 44 88 70 75 96 3 78 39 97 12 53 62 32 38 84 49 93 53 26 13 25
13 15
14 22
17 24
12 3
4 3
5 8
26 15
3 2
2 9
4 25
4 13
2 10
28 15
6 4
2 5
19 9
2 7
2 14
23 30
17 2
7 16
21 13
13 23
13 20
1 2
6 18
27 6
21 29
11 8
```



### 样例输出2

```
70
```




