---
title: "ABC276_Ex_translation"
tags: [ "构造", "高斯消元","暴力" ]
author: "houzhiyuan"
created: "2022.11.8"
---

### 题意 

构造一个 $N\times N$ 的矩阵 $X$ 满足以下条件（令 $x_{i,j}$ 表示第 $i$ 行第 $j$ 列的元素）。

- 对于所有 $1\le i,j\le N$，$x_{i,j}\in \{0,1,2\}$。

- 对于 $i=1,2,...,Q$ 满足以下条件。

  - 令 $P=\prod_{a_i\le j\le b_i}\prod_{c_i\le k\le d_i} x_{j,k}$，满足 $P\bmod 3=e_i$。

### 数据范围

- $1\le N,Q\le 2000$

- $1\le a_i\le b_i\le N$

- $1\le c_i\le d_i\le N$

- $e_i\le \{0,1,2\}$

---

### 输入格式

第一行两个数 $N,Q$。

接下来 $Q$ 行，每行五个数 $a_i,b_i,c_i,d_i,e_i$。

### 输出格式

如果没有合法的矩阵，输出 `No`。

否则输出 `Yes`，接下来 $N$ 行，每行 $N$ 个数，第 $i$ 行第 $j$ 个数表示 $x_{i,j}$。

有多个满足条件的矩阵输出任意一个。

---

### 样例输入1

```
2 3
1 1 1 2 0
1 2 2 2 1
2 2 1 2 2
```

### 样例输出1

```
Yes
0 2
1 2
```

### 样例解释1

对于 $i=2$ 而言，$P=x_{1,2}\times x_{2,2}=4$，满足 $P\bmod 3=1$。

该矩阵同样满足 $i=1,3$。

---

### 样例输入2

```
4 4
1 4 1 4 0
1 4 1 4 1
1 4 1 4 2
1 4 1 4 0
```

### 样例输出2

```
No
```
