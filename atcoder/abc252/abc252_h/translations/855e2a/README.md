---
title: "ABC252_Ex_translation.md"
tags: []
author: ""
created: ""
---

### 题意 

有 $N$ 颗宝石，第 $i$ 颗宝石颜色为 $D_i$，美丽值为 $V_i$，颜色是在 $1,2,...,C$ 中的一个整数，保证每个颜色至少有一颗宝石。

在 $N$ 颗宝石中，需要选出 $C$ 颗宝石做成一条项链（顺序无关），要求每颗宝石颜色不同，项链的美丽值是所有宝石美丽值的按位异或和。

对于所有可能的项链，求美丽值第 $K$ 大的项链的美丽值（美丽值相同的方案算作不同的方案）。

### 数据范围

- $1\le C\le N\le 70$
- $1\le D_i\le C$
- $0\le V_i < 2^{60}$
- $1\le K\le 10^{18}$
- 至少有 $K$ 种合法的项链。

---

### 输入格式

第一行三个数 $N,C,K$。

接下来 $N$ 行，每行两个数表示 $D_i,V_i$。

### 输出格式

一行一个数，表示答案。

---

### 样例输入1

```
4 2 3
2 4
2 6
1 2
1 3
```

### 样例输出1

```
5
```

### 样例解释1

有以下几种项链：

- 选择第 $1,3$ 颗项链，美丽值是 $4\  \text{XOR}\ 2=6$。
- 选择第 $1,4$ 颗项链，美丽值是 $4\  \text{XOR}\ 3=7$。
- 选择第 $2,3$ 颗项链，美丽值是 $6\  \text{XOR}\ 2=4$。
- 选择第 $2,4$ 颗项链，美丽值是 $6\  \text{XOR}\ 3=5$。

第三大的美丽值是 $5$。

---

### 样例输入2

```
3 1 2
1 0
1 0
1 0
```

### 样例输出2

```
0
```

### 样例解释2

所有方案的美丽值都是 $0$。

---

### 样例输入3

```
10 3 11
1 414213562373095048
1 732050807568877293
2 236067977499789696
2 449489742783178098
2 645751311064590590
2 828427124746190097
3 162277660168379331
3 316624790355399849
3 464101615137754587
3 605551275463989293
```

### 样例输出3

```
766842905529259824
```

