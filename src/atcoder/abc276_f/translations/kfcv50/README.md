---
title: "ABC276_F_translation"
tags: []
author: "_Life_"
created: "2022.11.13"
---

### 题意

有 $N$ 张卡片，第 $i(1\leq i \leq N)$ 张卡片上写着一个整数 $A_i$。

对于每个 $K \in \{1,2,\dots,N \}$，解决以下问题：

> 有一个包含卡片 $1,2,\dots,K$ 的包裹，进行两次以下操作，每次记录的数字分别为 $x,y$。
>
> > 从包裹中均匀随机的抽取一张卡片，记录上面写着的数字，**将卡片放回包裹中**。
>
> 求出 $\max(x,y)$ 的期望值，对 $998244353$ 取模（见提示）。
>
> $\max(x,y)$ 的值为 $x,y$ 的较大值（ $x,y$ 相等时为 $x$ ）。

### 提示

可以证明所求的期望值是有限的且有理的。

当答案被表示为 $\frac{P}{Q}(\gcd(P,Q)=1)$ 的形式时，可以证明有一个独一无二的整数 $R(0 \leq R < 998244353)$ 使得 $R\times Q \equiv P \mod{998244353}$，输出 $R$。

### 数据范围

- $1 \leq N \leq 2 \times 10^5$
- $1 \leq A_i \leq 2 \times 10^5$
- 保证所有输入的数字均为整数。

---

### 输入格式

第一行一个整数 $N$。
第二行 $N$ 个整数，表示 $A_i$。

### 输出格式

输出 $N$ 行。

第 $i(1\leq i \leq N)$ 行包括一个整数，表示对于 $K=i$ 时问题的答案。

---

### 样例输入1

```
3
5 7 5
```

### 样例输出1

```
5
499122183
443664163
```

### 样例解释1

以 $K=2$ 的时候为例：

包裹包含卡片 $1$ 和卡片 $2$，$A_1=5,A_2=7$。

- 第一次抽到卡片 $1$，第二次抽到卡片 $1$，$x=5,y=5,\max(x,y)=5$
- 第一次抽到卡片 $1$，第二次抽到卡片 $2$，$x=5,y=7,\max(x,y)=7$
- 第一次抽到卡片 $2$，第二次抽到卡片 $1$，$x=7,y=5,\max(x,y)=7$
- 第一次抽到卡片 $2$，第二次抽到卡片 $2$，$x=7,y=7,\max(x,y)=7$

以上情况等概率发生，所以期望值是 $\frac{5+7+7+7}{4}=\frac{13}{2}$。

因为 $499122183 \times 2 \equiv 13 \pmod{998244353}$，所以应该输出 $499122183$。

---

### 样例输入2

```
7
22 75 26 45 72 81 47
```

### 样例输出2

```
22
249561150
110916092
873463862
279508479
360477194
529680742
```

---